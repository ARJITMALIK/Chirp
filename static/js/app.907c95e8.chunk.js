(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{129:function(e,t,n){e.exports=n.p+"static/media/fav-icon.6c4588c8.png"},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a,r=n(65),o=n(0),i=n.n(o),c=n(203),l=n(306),s=n(307),d=n(17),u=n.n(d),g=n(59),m=n(2),f=n(13),p=n(19),h=n(26),b=n(42),E=n(93);n(222),n(223);a=0===E.a.apps.length?E.a.initializeApp({apiKey:"AIzaSyAf-BoWJsg-klcdHmdMA8JaQYuzgBbkuqI",authDomain:"notty-ebfcc.firebaseapp.com",projectId:"notty-ebfcc",storageBucket:"notty-ebfcc.appspot.com",messagingSenderId:"385673913296",appId:"1:385673913296:web:5adae9b7bf5f7874540fd5"}):E.a.app();var y=E.a.auth(),v=a.firestore(),T=function(e){var t=e.navigation,a=Object(o.useState)(""),c=u()(a,2),l=c[0],s=c[1],d=Object(o.useState)(""),m=u()(d,2),E=m[0],v=m[1];return Object(o.useEffect)((function(){return y.onAuthStateChanged((function(e){e&&t.replace("Chat")}))}),[]),i.a.createElement(g.a,{style:x.container},i.a.createElement(r.a,{style:"dark"}),i.a.createElement(h.a,{style:x.img,source:n(129)}),i.a.createElement(f.a,{style:x.secTitle},"Login to get started"),i.a.createElement(b.a,{style:x.TextInput,placeholder:"Email",value:l,onChangeText:s}),i.a.createElement(b.a,{style:x.TextInput,placeholder:"Password",secureTextEntry:!0,value:E,onChangeText:v}),i.a.createElement(p.a,{style:x.btn,onPress:function(){y.signInWithEmailAndPassword(l,E).catch((function(e){var t=e.message;alert(t)}))}},i.a.createElement(f.a,{style:x.btnText},"Login")),i.a.createElement(p.a,{onPress:function(){return t.navigate("Register")}},i.a.createElement(f.a,null,"Not have an account? SignUp")),i.a.createElement(p.a,{onPress:function(){return t.navigate("ForgotPass")}},i.a.createElement(f.a,null,"Forgot Password!!")))},x=m.a.create({container:{flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:20,color:"#8d12e5",marginBottom:40,marginTop:30,fontWeight:"bold"},secTitle:{fontSize:18},TextInput:{fontSize:18,fontWeight:"bold",borderWidth:2,borderColor:"#8d12e5",marginTop:10,width:250,borderRadius:5,paddingHorizontal:10,paddingVertical:5},btn:{width:200,paddingHorizontal:10,paddingVertical:10,backgroundColor:"#8d12e5",justifyContent:"center",alignItems:"center",borderRadius:5,marginTop:20,marginBottom:5},btnText:{color:"#fff",fontWeight:"bold",fontSize:15},img:{width:150,height:150,resizeMode:"contain",margin:20}}),S=function(e){var t=e.navigation,n=Object(o.useState)(""),a=u()(n,2),r=a[0],c=a[1],l=Object(o.useState)(""),s=u()(l,2),d=s[0],m=s[1],h=Object(o.useState)(""),E=u()(h,2),v=E[0],T=E[1],x=Object(o.useState)(""),S=u()(x,2),I=S[0],j=S[1];return i.a.createElement(g.a,{style:C.container},i.a.createElement(f.a,{style:C.title},"Create a new account"),i.a.createElement(b.a,{style:C.TextInput,placeholder:"Name",value:v,onChangeText:T}),i.a.createElement(b.a,{style:C.TextInput,placeholder:"Email",value:r,onChangeText:c}),i.a.createElement(b.a,{style:C.TextInput,placeholder:"Password",secureTextEntry:!0,value:d,onChangeText:m}),i.a.createElement(b.a,{style:C.TextInput,placeholder:"Photo URL",value:I,onChangeText:j}),i.a.createElement(p.a,{style:C.btn,onPress:function(){y.createUserWithEmailAndPassword(r,d).then((function(e){e.user.updateProfile({displayName:v,photoURL:I||"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.pinimg.com%2Foriginals%2Fc0%2Ffc%2Ff1%2Fc0fcf164efd9a75a5f7d8065d4365451.jpg&f=1&nofb=1"}).then((function(){})).catch((function(e){})),t.replace("Chat")})).catch((function(e){var t=e.message;alert(t)}))}},i.a.createElement(f.a,{style:C.btnText},"Sign Up")))},C=m.a.create({container:{flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:20,color:"#8d12e5",marginBottom:40,marginTop:30,fontWeight:"bold"},TextInput:{fontSize:18,fontWeight:"bold",borderWidth:2,borderColor:"#8d12e5",marginTop:10,width:250,borderRadius:5,paddingHorizontal:10,paddingVertical:5},btn:{width:200,paddingHorizontal:10,paddingVertical:10,backgroundColor:"#8d12e5",justifyContent:"center",alignItems:"center",borderRadius:5,marginTop:20,marginBottom:5},btnText:{color:"#fff",fontWeight:"bold",fontSize:15}}),I=n(6),j=n.n(I),w=n(4),z=n(210),P=n(111),R=function(e){var t,n,a,c=e.navigation;Object(o.useLayoutEffect)((function(){c.setOptions({headerLeft:function(){var e;return i.a.createElement(p.a,{style:{marginLeft:10},onPress:function(){return c.navigate("Profile")}},i.a.createElement(z.a,{rounded:!0,source:{uri:null==y||null==(e=y.currentUser)?void 0:e.photoURL}}))},headerRight:function(){return i.a.createElement(p.a,{onPress:l,style:{marginRight:10}},i.a.createElement(f.a,{style:{color:"#fff"}},"Logout"))}})}),[]);var l=function(){y.signOut().then((function(){c.replace("Login")})).catch((function(e){}))},s=Object(o.useState)([]),d=u()(s,2),g=d[0],m=d[1];Object(o.useLayoutEffect)((function(){return v.collection("chats").orderBy("createdAt","desc").onSnapshot((function(e){return m(e.docs.map((function(e){return{_id:e.data()._id,createdAt:e.data().createdAt.toDate(),text:e.data().text,user:e.data().user}})))}))}),[]);var h=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m((function(t){return P.b.append(t,e)}));var t=e[0],n=t._id,a=t.createdAt,r=t.text,o=t.user;v.collection("chats").add({_id:n,createdAt:a,text:r,user:o})}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{style:"light"}),i.a.createElement(w.a,{style:k.container},i.a.createElement(P.b,{messages:g,showAvatarForEveryMessage:!1,renderUsernameOnMessage:!0,renderAvatarOnTop:!0,scrollToBottom:!0,renderBubble:function(e){return i.a.createElement(P.a,j()({},e,{wrapperStyle:{left:{backgroundColor:"#e0e0e0"},right:{backgroundColor:"#8d12e5"}}}))},onSend:function(e){return h(e)},user:{_id:null==y||null==(t=y.currentUser)?void 0:t.email,name:null==y||null==(n=y.currentUser)?void 0:n.displayName,avatar:null==y||null==(a=y.currentUser)?void 0:a.photoURL}})))},k=m.a.create({container:{flex:1,backgroundColor:"#fff"}}),L=function(e){var t=e.navigation;return Object(o.useEffect)((function(){return y.onAuthStateChanged((function(e){e?t.replace("Chat"):t.replace("Login")}))}),[]),i.a.createElement(w.a,{style:O.container},i.a.createElement(r.a,{style:"light"}),i.a.createElement(h.a,{source:n(129),style:O.img}))},O=m.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#8d12e5"},img:{width:300,height:300,resizeMode:"contain",margin:20}}),U=function(){var e=Object(o.useState)(""),t=u()(e,2),n=t[0],a=t[1];return i.a.createElement(g.a,{style:W.container},i.a.createElement(b.a,{style:W.TextInput,placeholder:"Email",value:n,onChangeText:a}),i.a.createElement(p.a,{onPress:function(){auth.sendPasswordResetEmail(n).then((function(){})).catch((function(e){var t=e.message;alert(t)}))},style:W.btn},i.a.createElement(f.a,{style:W.btnText},"Send Password Reset Link")))},W=m.a.create({TextInput:{fontSize:18,fontWeight:"bold",borderWidth:2,borderColor:"#8d12e5",marginTop:10,width:250,borderRadius:5,paddingHorizontal:10,paddingVertical:5},container:{flex:1,justifyContent:"center",alignItems:"center"},btn:{width:250,paddingHorizontal:10,paddingVertical:10,backgroundColor:"#8d12e5",justifyContent:"center",alignItems:"center",borderRadius:5,marginTop:20,marginBottom:5},btnText:{color:"#fff",fontWeight:"bold",fontSize:15}}),A=function(e){var t,n=e.navigation,a=Object(o.useState)(""),c=u()(a,2),l=(c[0],c[1],Object(o.useState)("")),s=u()(l,2),d=s[0],m=s[1];return i.a.createElement(g.a,{behavior:"padding",style:B.container},i.a.createElement(r.a,{style:"dark"}),i.a.createElement(p.a,null,i.a.createElement(h.a,{source:{uri:null==y||null==(t=y.currentUser)?void 0:t.photoURL},style:B.img})),i.a.createElement(b.a,{style:B.TextInput,placeholder:"Photo URL",value:d,onChangeText:m}),i.a.createElement(f.a,{style:{marginTop:10}},"Enter an image address to set it as your profile picture."),i.a.createElement(f.a,{style:{marginTop:10,color:"red"}},"!!For security purpose you can't change your username yet"),i.a.createElement(p.a,{style:B.btn,onPress:function(){y.currentUser.updateProfile({photoURL:d||y.currentUser.photoURL}).then((function(){n.navigate("Chat")})).catch((function(e){var t=e.message;alert(t)}))}},i.a.createElement(f.a,{style:B.btnText},"Update Profile")))},B=m.a.create({container:{flex:1,justifyContent:"center",alignItems:"center"},img:{width:300,height:300,resizeMode:"contain",margin:20,borderRadius:500},text:{fontWeight:"bold",fontSize:18},TextInput:{fontSize:18,fontWeight:"bold",borderWidth:2,borderColor:"#8d12e5",marginTop:10,width:250,borderRadius:5,paddingHorizontal:10,paddingVertical:5},btn:{width:200,paddingHorizontal:10,paddingVertical:10,backgroundColor:"#8d12e5",justifyContent:"center",alignItems:"center",borderRadius:5,marginTop:20,marginBottom:20,marginBottom:5},btnText:{color:"#fff",fontWeight:"bold",fontSize:15}});c.a.ignoreAllLogs();var F=Object(s.a)();function H(){return i.a.createElement(l.a,null,i.a.createElement(F.Navigator,null,i.a.createElement(F.Screen,{name:"Splash",options:{headerShown:!1},component:L}),i.a.createElement(F.Screen,{options:{headerShown:!1},name:"Login",component:T}),i.a.createElement(F.Screen,{name:"ForgotPass",component:U}),i.a.createElement(F.Screen,{name:"Register",component:S}),i.a.createElement(F.Screen,{name:"Chat",component:R,options:{title:"CHIRP",headerStyle:{backgroundColor:"#8d12e5"},headerTintColor:"#fff",headerTitleAlign:"center",headerTitleStyle:{fontWeight:"bold"}}}),i.a.createElement(F.Screen,{name:"Profile",component:A})))}},215:function(e,t,n){e.exports=n(285)}},[[215,1,2]]]);
//# sourceMappingURL=app.907c95e8.chunk.js.map